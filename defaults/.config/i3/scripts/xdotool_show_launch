#!/bin/luajit

local xdotool = {}

xdotool.path = [[/usr/bin/xdotool]]
xdotool.app_exists_args = [[search --name]]

function xdotool:window_visible(app)
    if not app or app == '' then
        print('Bad argument')
        return
    end
    cmd = self.path .. ' ' .. self.app_exists_args .. ' ' .. '^' .. app .. '$'
    print('cmd = "'.. cmd .. '"')
    file = assert(io.popen(cmd))
    output = file:read('*a')
    file:close()
    return output
end

print(xdotool:window_visible(arg[1]))

-- vim: ft=lua
