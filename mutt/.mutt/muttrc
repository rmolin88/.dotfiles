# File:					muttrc
# Description:			Mutt configuration
# Author:				Reinaldo Molina <rmolin88@gmail.com>
# Version:				0.0.1
# Last Modified:		Sun Jun 25 2017 15:26
# Created:				Jun 25 2017 13:20

set realname='Reinaldo Molina'
set ssl_starttls=yes
set ssl_force_tls=yes

# Add accounts
folder-hook 'gmail.com' 'source ~/.config/mutt/account.gmail'
# Not really working
folder-hook 'broward.edu' 'source ~/.config/mutt/account.broward'

# Default account to open
source ~/.config/mutt/account.gmail

# Store message headers locally to speed things up.
# If hcache is a folder, Mutt will create sub cache folders for each account which may speeds things up even more.
set header_cache = "~/.config/mutt/cache/headers"

# Store messages locally to speed things up, like searching message bodies.
# Can be the same folder as header_cache.
# This will cost important disk usage according to your e-mail amount.
set message_cachedir = "~/.config/mutt/cache/bodies"

set certificate_file = "~/.config/mutt/certificates"
set move = no

# Keep IMAP connection alive by polling intermittently (time in seconds).
# set imap_keepalive = 900
set imap_keepalive = 60

mailboxes       = +INBOX

# Allow Mutt to open new imap connection automatically.
unset imap_passive

# How often to check for new mail (time in seconds).
set timeout = 30
set mail_check = 30

# To see both reply and recv in one thread
# I dont like this option. Makes sent emails show in gmail app
# fcc-hook .* =inbox

# Sort to show most recent first
set sort = reverse-date-received

bind index o display-message
bind generic gg first-entry		
bind generic G last-entry		
bind generic L bottom-page		#to the bottom,
bind generic M middle-page		#middle, and
bind generic H top-page			#top of the screen
# bind index [ previous-unread		to the previous unread message in the list
# bind index ] next-unread		or the next unread message.

# Gmail-style keyboard shortcuts
macro index,pager gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index,pager ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
macro index,pager gs "<change-folder>=[Gmail]/Starred<enter>" "Go to starred messages"
macro index,pager gp "<change-folder>=[Gmail]/Important<enter>" "Go to priority inbox"
macro index,pager gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"

# Go to broward email
macro index,pager gb '<sync-mailbox><enter-command>source ~/.config/mutt/account.broward<enter><change-folder>!<enter>'
# Go to uf email
# macro index,pager gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"

# Option to Save contacts so that autocompletion is possible
set display_filter='~/.config/mutt/mutt.save.contacts.sh' 
# Options to load aliasses file
set alias_file= ~/.config/mutt/aliases.txt
set sort_alias= alias
set reverse_alias=yes
source $alias_file

set editor="nvim"
# set editor="vim -c 'set spell spelllang=es,en'"

# From https://github.com/bubbl/bubb-confs/blob/master/mutt/.mutt/general
# A lot of good configs in that link
set edit_headers    = yes                # show headers when composing
set fast_reply                           # skip to compose when replying

bind pager gr group-reply

bind generic N search-opposite

bind index r sync-mailbox

# Always include previous message when replying
set include = yes

# Scroll inside emails
bind pager j next-line 
bind pager k previous-line 
# Go to next page with z
# Come back up with gg

set menu_scroll

# If an opttion does not work search the manual. It may appear in different
# types of options. You just need to put it in th correct one.
set beep_new

# Pretty cool colors
source ~/.config/mutt/mutt-solarized-colors.muttrc

# Only new and read msgs
# Use $ to synch
set mark_old=no

auto_view text/html
alternative_order text/plain text/enriched text/html
