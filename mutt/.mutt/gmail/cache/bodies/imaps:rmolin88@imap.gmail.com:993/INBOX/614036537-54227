Delivered-To: rmolin88@gmail.com
Received: by 10.140.29.197 with SMTP id b63csp2348253qgb;
        Thu, 30 Mar 2017 06:31:44 -0700 (PDT)
X-Received: by 10.107.8.85 with SMTP id 82mr380530ioi.163.1490880704036;
        Thu, 30 Mar 2017 06:31:44 -0700 (PDT)
Return-Path: <bounces+848413-a6b0-rmolin88=gmail.com@sgmail.github.com>
Received: from o6.sgmail.github.com (o6.sgmail.github.com. [192.254.113.101])
        by mx.google.com with ESMTPS id t7si10223711itd.123.2017.03.30.06.31.43
        for <rmolin88@gmail.com>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 30 Mar 2017 06:31:44 -0700 (PDT)
Received-SPF: pass (google.com: domain of bounces+848413-a6b0-rmolin88=gmail.com@sgmail.github.com designates 192.254.113.101 as permitted sender) client-ip=192.254.113.101;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@github.com;
       dkim=pass header.i=@sendgrid.info;
       spf=pass (google.com: domain of bounces+848413-a6b0-rmolin88=gmail.com@sgmail.github.com designates 192.254.113.101 as permitted sender) smtp.mailfrom=bounces+848413-a6b0-rmolin88=gmail.com@sgmail.github.com;
       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=github.com
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=github.com; 
	h=from:reply-to:to:cc:in-reply-to:references:subject:mime-version:content-type:content-transfer-encoding:list-id:list-archive:list-post:list-unsubscribe; 
	s=s20150108; bh=hHRBksEZwP2tQkEjQoHzpn5MhV4=; b=DKRyMGCP1aYFUimI
	8LeoBVSBN/AfCe71yzkb1H3+BjgkJHAODeMud5V7JVWBlD8qw7WSnYak7lzt+mtD
	qwxcVkUvLu/+VuNehUkH6jk3oaXzKzu6EOuFOrbBTSYt0QaOjETnYdOayt0UinIn
	EBcYzCqw8h+b2LQ8PINlGaGYmnk=
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; d=sendgrid.info; 
	h=from:reply-to:to:cc:in-reply-to:references:subject:mime-version:content-type:content-transfer-encoding:list-id:list-archive:list-post:list-unsubscribe:x-feedback-id; 
	s=smtpapi; bh=hHRBksEZwP2tQkEjQoHzpn5MhV4=; b=pXCLLCDh8OIujPjURJ
	OMOqVMfNNMhv3Xje82binL9NUkYdkPXo33RX+JdeKYkac+kg37cln+Cn9qmyt1iR
	4kbwemU4lfR+N7aWnfPlFqatXNYkLWrZg82HAlh4BK6d9k9U09F0r0zrmoC0i8eE
	qZl2sqad/x0v3Zf3vk2dq1veA=
Received: by filter1127p1mdw1.sendgrid.net with SMTP id filter1127p1mdw1-364-58DD08BE-3A
        2017-03-30 13:31:42.248423762 +0000 UTC
Received: from github-smtp2b-ext-cp1-prd.iad.github.net (github-smtp2b-ext-cp1-prd.iad.github.net [192.30.253.17])
	by ismtpd0001p1iad1.sendgrid.net (SG) with ESMTP id kOjiZN29QdyvfXIb4JmkjA
	for <rmolin88@gmail.com>; Thu, 30 Mar 2017 13:31:42.224 +0000 (UTC)
Date: Thu, 30 Mar 2017 06:31:42 -0700
From: z33ky <notifications@github.com>
Reply-To: "Shougo/deoplete.nvim" <reply+0052d4ff626aea7e47ed73d65cf23b41197301b32554659f92cf0000000114f4cabe92a169ce0c91d080@reply.github.com>
To: "Shougo/deoplete.nvim" <deoplete.nvim@noreply.github.com>
Cc: Reinaldo Molina <rmolin88@gmail.com>, 
 Mention <mention@noreply.github.com>
Message-ID: <Shougo/deoplete.nvim/issues/440/290411253@github.com>
In-Reply-To: <Shougo/deoplete.nvim/issues/440@github.com>
References: <Shougo/deoplete.nvim/issues/440@github.com>
Subject: Re: [Shougo/deoplete.nvim] deoplete trigger competition automatically
 (#440)
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_58dd08be173c1_3403ff1903dbc302525a4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Precedence: list
X-GitHub-Sender: z33ky
X-GitHub-Recipient: rmolin88
X-GitHub-Reason: mention
List-ID: Shougo/deoplete.nvim <deoplete.nvim.Shougo.github.com>
List-Archive: https://github.com/Shougo/deoplete.nvim
List-Post: <mailto:reply+0052d4ff626aea7e47ed73d65cf23b41197301b32554659f92cf0000000114f4cabe92a169ce0c91d080@reply.github.com>
List-Unsubscribe: <mailto:unsub+0052d4ff626aea7e47ed73d65cf23b41197301b32554659f92cf0000000114f4cabe92a169ce0c91d080@reply.github.com>,
 <https://github.com/notifications/unsubscribe/AFLU_5c4W6X4loRUgipM0DTMW0oijVNiks5rq66-gaJpZM4MOzoR>
X-Auto-Response-Suppress: All
X-GitHub-Recipient-Address: rmolin88@gmail.com
X-SG-EID: Z/rt/z3yOD+67ce/0rMT466FyE1v11DNRKXpUojtWfxCJ/JU3h8R//eax2aMOWXyMl9piEGlvuSVci
 58XRYeAlW45A//aluUCE6p9Ug5zup1hNqemMvAZdkJ+gdbkQis7oH5tWfBWXRDK3TPmaj5jvXBFKqm
 W6Nlx3MlIjVTZkO/6q1kCnZJDfksfySOYtYJMZITOCW7n7w9FUohyuGeww==
X-Feedback-ID: 848413:6xvVEJqleZlAW7/vhv7PzD/cv5tamo2SWZDKyvugGvg=:6xvVEJqleZlAW7/vhv7PzD/cv5tamo2SWZDKyvugGvg=:SG

----==_mimepart_58dd08be173c1_3403ff1903dbc302525a4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

@Alok this should fix it:
```
diff --git a/rplugin/python3/deoplete/deoplete.py b/rplugin/python3/deoplete/deoplete.py
index ed8ff51..515e0b8 100644
--- a/rplugin/python3/deoplete/deoplete.py
+++ b/rplugin/python3/deoplete/deoplete.py
@@ -139,12 +139,13 @@ class Deoplete(logger.LoggingMixin):
         return self._results.values()

     def merge_results(self, results, context_input):
-        if not results:
-            return (False, -1, [])
-
         complete_position = min(
             [x['context']['complete_position'] for x in results
-             if x['context']['candidates']])
+             if x['context']['candidates']],
+            None)
+
+        if not complete_position:
+            return (False, -1, [])

         candidates = []
         for result in [x for x in results
```

-- 
You are receiving this because you were mentioned.
Reply to this email directly or view it on GitHub:
https://github.com/Shougo/deoplete.nvim/issues/440#issuecomment-290411253
----==_mimepart_58dd08be173c1_3403ff1903dbc302525a4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p><a href=3D"https://github.com/Alok" class=3D"user-mention">@Alok</a> thi=
s should fix it:</p>
<pre><code>diff --git a/rplugin/python3/deoplete/deoplete.py b/rplugin/pyth=
on3/deoplete/deoplete.py
index ed8ff51..515e0b8 100644
--- a/rplugin/python3/deoplete/deoplete.py
+++ b/rplugin/python3/deoplete/deoplete.py
@@ -139,12 +139,13 @@ class Deoplete(logger.LoggingMixin):
         return self._results.values()

     def merge_results(self, results, context_input):
-        if not results:
-            return (False, -1, [])
-
         complete_position =3D min(
             [x['context']['complete_position'] for x in results
-             if x['context']['candidates']])
+             if x['context']['candidates']],
+            None)
+
+        if not complete_position:
+            return (False, -1, [])

         candidates =3D []
         for result in [x for x in results
</code></pre>

<p style=3D"font-size:small;-webkit-text-size-adjust:none;color:#666;">&mda=
sh;<br />You are receiving this because you were mentioned.<br />Reply to t=
his email directly, <a href=3D"https://github.com/Shougo/deoplete.nvim/issu=
es/440#issuecomment-290411253">view it on GitHub</a>, or <a href=3D"https:/=
/github.com/notifications/unsubscribe-auth/AFLU_-k_zk1UUaTk0L74XPt0Bu-pqypC=
ks5rq66-gaJpZM4MOzoR">mute the thread</a>.<img alt=3D"" height=3D"1" src=3D=
"https://github.com/notifications/beacon/AFLU_4JC-uAEvPBSsolI0457XZe4gHxtks=
5rq66-gaJpZM4MOzoR.gif" width=3D"1" /></p>
<div itemscope itemtype=3D"http://schema.org/EmailMessage">
<div itemprop=3D"action" itemscope itemtype=3D"http://schema.org/ViewAction=
">
  <link itemprop=3D"url" href=3D"https://github.com/Shougo/deoplete.nvim/is=
sues/440#issuecomment-290411253"></link>
  <meta itemprop=3D"name" content=3D"View Issue"></meta>
</div>
<meta itemprop=3D"description" content=3D"View this Issue on GitHub"></meta>
</div>

<script type=3D"application/json" data-scope=3D"inboxmarkup">{"api_version"=
:"1.0","publisher":{"api_key":"05dde50f1d1a384dd78767c55493e4bb","name":"Gi=
tHub"},"entity":{"external_key":"github/Shougo/deoplete.nvim","title":"Shou=
go/deoplete.nvim","subtitle":"GitHub repository","main_image_url":"https://=
cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-=
7290892c7bb5.png","avatar_image_url":"https://cloud.githubusercontent.com/a=
ssets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png","action":{"=
name":"Open in GitHub","url":"https://github.com/Shougo/deoplete.nvim"}},"u=
pdates":{"snippets":[{"icon":"PERSON","message":"@z33ky in #440: @Alok this=
 should fix it:\r\n```\r\ndiff --git a/rplugin/python3/deoplete/deoplete.py=
 b/rplugin/python3/deoplete/deoplete.py\r\nindex ed8ff51..515e0b8 100644\r\=
n--- a/rplugin/python3/deoplete/deoplete.py\r\n+++ b/rplugin/python3/deople=
te/deoplete.py\r\n@@ -139,12 +139,13 @@ class Deoplete(logger.LoggingMixin)=
:\r\n         return self._results.values()\r\n\r\n     def merge_results(s=
elf, results, context_input):\r\n-        if not results:\r\n-            r=
eturn (False, -1, [])\r\n-\r\n         complete_position =3D min(\r\n      =
       [x['context']['complete_position'] for x in results\r\n-            =
 if x['context']['candidates']])\r\n+             if x['context']['candidat=
es']],\r\n+            None)\r\n+\r\n+        if not complete_position:\r\n=
+            return (False, -1, [])\r\n\r\n         candidates =3D []\r\n  =
       for result in [x for x in results\r\n```"}],"action":{"name":"View I=
ssue","url":"https://github.com/Shougo/deoplete.nvim/issues/440#issuecommen=
t-290411253"}}}</script>=

----==_mimepart_58dd08be173c1_3403ff1903dbc302525a4--
